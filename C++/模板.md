# 模板
##1.简介
- 模板(template)
- ==模板编程==：通过抽象将相似的类和函数的共同特性提取出来，用一种统一的方式予以描述，形成类模板/函数模板。
- 模板不是一个实实在在的函数或类，他们仅仅是逻辑功能相同而类型不同的函数和类的一种抽象，是参数化的函数或类。
- ==泛型程序设计==：减少重复代码的编写，显著提高编程效率。

##2.函数模板
1. **函数模板**：创建一个通用功能的函数，以支持多种不同形参，进一步简化函数的函数体设计。
- 定义格式：
```
//注意所有的函数模板头上都要加template相关的函数说明。
//<……>中间的内容称为模板参数表

//exp1:将两个数直接相加，注意到传入的两个数和要返回的数
//的数字类型相同但未知，因此可以定义一个T，并将这些数的
//所有数字类型都用T来代替
template <class T>
T add(T x,T y){
    return x+y;
}

//exp2:交换两个数，因为传入的两个参数数字类型相同但未知，
//因此定义一个T代替，且其中需要另外定义一个相同类型的
//局部变量，同样也需要用T这个数字类型声明。
//考虑到不需要返回值，可以直接使用void就行。
template <class T>
void swap(T &x,T &y){
    T tmp=x;
    x=y;
    y=tmp;
}

//exp3:传入两个数字类型不同但都未知的实参，因此需要定义
//两个不同的T，即T1，T2。
template <class T1,class T2>
void swap(T1 x,T2 y) {
    ......
}

//exp4:模板参数表中还能带基本数据类型的形式参数，只要
//该函数需要，没啥不能定义的。
template <class T,int size>
T sum(){
    ......
}
``` 
2. **模板函数**：函数模板定义后，用它来生成的各种具体函数叫做模板函数。
- 模板的实例化：将函数模板的模板参数表中的参数化类型根据实参实例化成具体类型的过程。
    - 显式实例化：
    ```
    add(double)(8,9)将T add(T x,T y)实例化 double add(double x,double y)
    sum(int ,100)将T sum()实例化 int sum(),size的初始值规定为100
    ```
    - 隐式实例化：
    ```
    使用函数调用时：
    add('A','B') 将 T add(T x,T y)实例化 char add( char x,char y)
    ```
- 注意到，如果模板参数表中有普通类型的形参，则隐式实例化的方法无法给予赋值，此时必须使用显式实例化！
- 函数模板实例化后，函数调用执行的实际上是函数模板生成的模板函数。
- 若同时存在重载函数和函数模板时，优先选择重载函数，之后才会实例化类模板。

##3.类模板
1. **定义**：
- 类模板：带有类型参数的类。
- 语法：
```
template<class TNO,class TScore，int num>
class Student{
private：
    int n;
    TNO StudentID[num];
    TScore score[num];
public:
    Student();
    void append(TNO ID,TScore s);
};
```
- 注意模板的关键字template
- 模板参数表中，类型是参数化类型（可变类型），类型名可以是class（或typename），而且还能包含普通类型，普通类型的参数用来给类的成员提供初值。
- 其成员变量既能为普通函数，也可以是函数模板。
- 如果要将类的成员函数在类外进行定义：
```
template<class TNO,class TScore，int num>
void Student <TNO,TScore,num>::append(TNO ID,TScore s){
    if(n<num){
        StudentID[n]=ID;
        score[n]=s;
        n++;
    }
}
```
- 注意到类外边的所有成员函数头上都要加template语句（与该类头上一样）
- 千万记住外部成员函数定义的语法格式！！！

2. **实例化**：
- 类的实例化：根据不同参数建立不同类型成员的具体类。
- 只能采用显示方法进行实例化。
- 语法格式：
```
类模板名<模板参数值表>对象1，对象2...，对象n;
eg:
Student <char,int,50>group1;
group1.append('2017211610',100);
Student <long,int,50>group2;
```
- 模板参数值表的值是类型名，可以是基本数据类型or构造数据类型名or类类型名。
- 模板参数值表的值可以是常数表达式，用来对模板参数表中的普通参数进行初始化。
- 模板参数值表中的值与类模板中的模板参数表一一对应。
3. **默认模板参数**：
- 类模板的类型参数可以采用默认值，避免每次实例化都显式给出实参。
- 举例：
```
template<class TNO,class TScore=int,int num=10>
```
- 当实例化时没有对其进行设定值的话就采用默认值。
- 注意类模板默认参数的给出顺序是从右到左，实参值的结合顺序是从左到右。
##4.模板编程——重点理解程序
**1.栈类模板**
要求：将栈设计成一个类模板，其中可以存放任意类型的数据。

**2.链表类模板**
要求：将链表设计成一个类模板，其中可以存放任意类型的数据。